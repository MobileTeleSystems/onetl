# 0.7.0 (2023-05-15)

## üéâ onETL —Ç–µ–ø–µ—Ä—å —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º üéâ

–≠—Ç–æ –±—ã–ª–∞ –¥–æ–ª–≥–∞—è –¥–æ—Ä–æ–≥–∞, –Ω–æ –º—ã –Ω–∞–∫–æ–Ω–µ—Ü-—Ç–æ –ø—Ä–µ–æ–¥–æ–ª–µ–ª–∏ –µ—ë!

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

- –ò–∑–º–µ–Ω–µ–Ω —Å–ø–æ—Å–æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–∏.

  **TL;DR –ß—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å, —á—Ç–æ–±—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ**

  –ü—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±:

  | onETL < 0.7.0     | onETL >= 0.7.0                    |
  | ----------------- | --------------------------------- |
  | pip install onetl | pip install onetl[files,kerberos] |

  –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± - –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:

  ```bash
  pip install onetl[hdfs,ftp,kerberos]  # –∫—Ä–æ–º–µ DB —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
  ```

  **–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏**

  –í onetl<0.7 —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

  ```bash title="before"

  pip install onetl
  ```

  –ù–æ —ç—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—Ö –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç.
  –≠—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Kerberos, —á—Ç–æ–±—ã –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å onETL, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ S3 (–±–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Kerberos).

  –ù–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–∏ 0.7.0 –ø—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±—ã–ª –∏–∑–º–µ–Ω–µ–Ω:

  ``` bash title="after"

  pip install onetl  # –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞, —Ç–æ–ª—å–∫–æ —è–¥—Ä–æ onETL
  # –Ω–µ—Ç extras –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ –ë–î, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç Java –ø–∞–∫–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

  pip install onetl[ftp,ftps,hdfs,sftp,s3,webdav]  # —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
  pip install onetl[files]  # —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

  pip install onetl[kerberos]  # –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ Kerberos
  pip install onetl[spark]  # —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PySpark –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ –ë–î

  pip install onetl[spark,kerberos,files]  # –≤—Å–µ —Ñ–∞–π–ª–æ–≤—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è + Kerberos + PySpark
  pip install onetl[all]  # –∞–ª–∏–∞—Å –¥–ª—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å–ª—É—á–∞—è
  ```

  –î–ª—è –∫–∞–∂–¥–æ–≥–æ extras –µ—Å—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

  –ö—Ä–æ–º–µ —Ç–æ–≥–æ, onETL –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç, –∏ –≤—ã–¥–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–µ–π, –∫–∞–∫ –∏—Ö —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:

  ``` text title="exception while import Clickhouse connection"

  Cannot import module "pyspark".

  Since onETL v0.7.0 you should install package as follows:
      pip install onetl[spark]

  or inject PySpark to sys.path in some other way BEFORE creating MongoDB instance.
  ```

  ``` text title="exception while import FTP connection"

  Cannot import module "ftputil".

  Since onETL v0.7.0 you should install package as follows:
      pip install onetl[ftp]

  or
      pip install onetl[files]
  ```

- –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç `cluster` –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π `Hive` –∏ `HDFS`.

  –ü–æ–ª–Ω–æ–µ –∏–º—è `Hive` (–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ –≤ HWM) —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–º—è –∫–ª–∞—Å—Ç–µ—Ä–∞. –ù–æ –≤ onETL<0.7.0 –∏–º—è –∫–ª–∞—Å—Ç–µ—Ä–∞ –∏–º–µ–ª–æ –Ω–µ –∏–∑–º–µ–Ω—è–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `rnd-dwh`, —á—Ç–æ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏–ª–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

  –ü–æ–ª–Ω–æ–µ –∏–º—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è `HDFS` —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–º—è —Ö–æ—Å—Ç–∞ (–∞–∫—Ç–∏–≤–Ω–æ–π namenode –∫–ª–∞—Å—Ç–µ—Ä–∞ Hadoop), –Ω–æ –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å–æ–∑–¥–∞–Ω–∏—é –Ω–æ–≤–æ–≥–æ HWM.

  –ù–∞—á–∏–Ω–∞—è —Å onETL 0.7.0, –æ–±–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è `Hive` –∏ `HDFS` –∏–º–µ—é—Ç –∞—Ç—Ä–∏–±—É—Ç `cluster`, –≤ –∫–æ—Ç–æ—Ä–æ–º –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –∏–º—è –∫–ª–∞—Å—Ç–µ—Ä–∞.
  –î–ª—è `Hive` —ç—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –¥–ª—è `HDFS` —ç—Ç–æ –º–æ–∂–Ω–æ –æ–ø—É—Å—Ç–∏—Ç—å (–∏—Å–ø–æ–ª—å–∑—É—è —Ö–æ—Å—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–∞–ø–∞—Å–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞).

  –ù–æ –ø–µ—Ä–µ–¥–∞—á–∞ –∏–º–µ–Ω–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –æ—à–∏–±–∫–∞–º.

  –¢–µ–ø–µ—Ä—å `Hive` –∏ `HDFS` –∏–º–µ—é—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å —Å –∏–º–µ–Ω–µ–º `slots` —Å –º–µ—Ç–æ–¥–∞–º–∏:

  - `normalize_cluster_name`
  - `get_known_clusters`
  - `get_current_cluster`
  - `normalize_namenode_host` (—Ç–æ–ª—å–∫–æ `HDFS`)
  - `get_cluster_namenodes` (—Ç–æ–ª—å–∫–æ `HDFS`)
  - `get_webhdfs_port` (—Ç–æ–ª—å–∫–æ `HDFS`)
  - `is_namenode_active` (—Ç–æ–ª—å–∫–æ `HDFS`)

  –ò –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ `HDFS.get_current` / `Hive.get_current`.

  –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ö—É–∫–∏, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–µ –≤–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞.
  –ù–∞ –Ω–∞—à –≤–∑–≥–ª—è–¥, –æ–ø–∏—Å–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —É–ª—É—á—à–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —ç—Ç–∏—Ö –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤.

  –°–º. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ slots.

- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥—Ä–∞–π–≤–µ—Ä–æ–≤ JDBC —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

  - Greenplum `2.1.3` ‚Üí `2.1.4`.
  - MSSQL `10.2.1.jre8` ‚Üí `12.2.0.jre8`. –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –≤–µ—Ä—Å–∏—è MSSQL —Ç–µ–ø–µ—Ä—å 2014 –≤–º–µ—Å—Ç–æ 2021.
  - MySQL `8.0.30` ‚Üí `8.0.33`:
    - –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –ø–∞–∫–µ—Ç `mysql:mysql-connector-java` ‚Üí `com.mysql:mysql-connector-j`.
    - –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –∫–ª–∞—Å—Å –¥—Ä–∞–π–≤–µ—Ä–∞ `com.mysql.jdbc.Driver` ‚Üí `com.mysql.cj.jdbc.Driver`.
  - Oracle `21.6.0.0.1` ‚Üí `23.2.0.0`.
  - Postgres `42.4.0` ‚Üí `42.6.0`.
  - Teradata `17.20.00.08` ‚Üí `17.20.00.15`:
    - –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –ø–∞–∫–µ—Ç `com.teradata.jdbc:terajdbc4` ‚Üí `com.teradata.jdbc:terajdbc`.
    - –î—Ä–∞–π–≤–µ—Ä Teradata —Ç–µ–ø–µ—Ä—å –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –≤ Maven.

  –°–º. [#31](https://github.com/MobileTeleSystems/onetl/pull/31).

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ MongoDB.

  –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π [MongoDB connector for Spark v10](https://www.mongodb.com/docs/spark-connector/current/). –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ Spark 3.2+.

  –ï—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É MongoDB –∏ –¥—Ä—É–≥–∏–º–∏ –ë–î-–∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏:

  - –ú–µ—Ç–æ–¥ `mongodb.pipeline` –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ `mongodb.sql`.
  - –ù–µ—Ç –º–µ—Ç–æ–¥–æ–≤ `mongodb.fetch` –∏ `mongodb.execute`.
  - –¢–∏–ø—ã `DBReader.hint` –∏ `DBReader.where` –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç —Ç–∏–ø–æ–≤ –¥–ª—è –ë–î, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö SQL:

  ```python
  where = {
      "col1": {
          "$eq": 10,
      },
  }

  hint = {
      "col1": 1,
  }
  ```

  - –ü–æ—Å–∫–æ–ª—å–∫—É MongoDB –Ω–µ –∏–º–µ–µ—Ç —Å—Ö–µ–º –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–π –∏ Spark –Ω–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å dataframe —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Å—Ö–µ–º–æ–π, –±—ã–ª–∞ –≤–≤–µ–¥–µ–Ω–∞ –Ω–æ–≤–∞—è –æ–ø—Ü–∏—è `DBReader.df_schema`.
    –û–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è MongoDB, –Ω–æ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è –¥—Ä—É–≥–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.
  - –í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è DBReader –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å MongoDB –∏ hwm –≤—ã—Ä–∞–∂–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, `hwm_column=("mycolumn", {"$cast": {"col1": "date"}})`

  –ü–æ—Å–∫–æ–ª—å–∫—É –≤ MongoDB –Ω–µ—Ç —Ç–∞–±–ª–∏—Ü, –≤ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–ª–∞—Å—Å–∞—Ö –±—ã–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ü–∏–∏:

  - `DBReader(table=...)` ‚Üí `DBReader(source=...)`
  - `DBWriter(table=...)` ‚Üí `DBWriter(target=...)`

  –°—Ç–∞—Ä—ã–µ –∏–º–µ–Ω–∞ —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –æ–Ω–∏ –Ω–µ —É—Å—Ç–∞—Ä–µ–ª–∏ ([#30](https://github.com/MobileTeleSystems/onetl/pull/30)).

- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–ø—Ü–∏—è –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤ –≤–æ –≤—Ä–µ–º—è –∏–º–ø–æ—Ä—Ç–∞.

  –†–∞–Ω–µ–µ, –µ—Å–ª–∏ –∫–∞–∫–æ–π-–ª–∏–±–æ –ø–ª–∞–≥–∏–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–ª –≤–æ –≤—Ä–µ–º—è –∏–º–ø–æ—Ä—Ç–∞, –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å onETL –±—ã–ª–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –≤—Å–µ –ø–ª–∞–≥–∏–Ω—ã
  —Å –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è.

  –¢–µ–ø–µ—Ä—å –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å —Ä–∞–∑–Ω—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º:

  - `ONETL_PLUGINS_ENABLED=false` - –æ—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –≤—Å–µ—Ö –ø–ª–∞–≥–∏–Ω–æ–≤. –†–∞–Ω–µ–µ –æ–Ω–∞ –Ω–∞–∑—ã–≤–∞–ª–∞—Å—å `ONETL_ENABLE_PLUGINS`.
  - `ONETL_PLUGINS_BLACKLIST=plugin-name,another-plugin` - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–ª–∞–≥–∏–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ù–ï –¥–æ–ª–∂–Ω—ã –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
  - `ONETL_PLUGINS_WHITELIST=plugin-name,another-plugin` - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–ª–∞–≥–∏–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –¢–û–õ–¨–ö–û –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

  –ï—â—ë –º—ã —É–ª—É—á—à–∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –∏—Å–∫–ª—é—á–µ–Ω–∏–∏ —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–µ–π, –∫–∞–∫ –æ—Ç–∫–ª—é—á–∏—Ç—å –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏–π –ø–ª–∞–≥–∏–Ω:

  ``` text title="exception message example"

  Error while importing plugin 'mtspark' from package 'mtspark' v4.0.0.

  Statement:
      import mtspark.onetl

  Check if plugin is compatible with current onETL version 0.7.0.

  You can disable loading this plugin by setting environment variable:
      ONETL_PLUGINS_BLACKLIST='mtspark,failing-plugin'

  You can also define a whitelist of packages which can be loaded by onETL:
      ONETL_PLUGINS_WHITELIST='not-failing-plugin1,not-failing-plugin2'

  Please take into account that plugin name may differ from package or module name.
  See package metadata for more details
  ```

## –£–ª—É—á—à–µ–Ω–∏—è

- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Python 3.11 –∏ PySpark 3.4.0.

  –§–∞–π–ª–æ–≤—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞–ª–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –Ω–æ `jdbc.fetch` –∏ `jdbc.execute` –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ [#28](https://github.com/MobileTeleSystems/onetl/pull/28).

- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–∞–∫–µ—Ç–æ–≤ Java.

  –†–∞–Ω–µ–µ, –µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î –ø—ã—Ç–∞–ª–æ—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫–æ–π-–ª–∏–±–æ Java-–∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –±—ã–ª –∑–∞–≥—Ä—É–∂–µ–Ω –≤ –≤–µ—Ä—Å–∏—é Spark, –≤–æ–∑–Ω–∏–∫–∞–ª–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
  —Å –¥–ª–∏–Ω–Ω—ã–º stacktrace. –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ –º–æ–≥–ª–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

  –¢–µ–ø–µ—Ä—å onETL –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ:

  ``` text title="exception message example"

  |Spark| Cannot import Java class 'com.mongodb.spark.sql.connector.MongoTableProvider'.

  It looks like you've created Spark session without this option:
      SparkSession.builder.config("spark.jars.packages", MongoDB.package_spark_3_2)

  Please call `spark.stop()`, restart the interpreter,
  and then create new SparkSession with proper options.
  ```

- –£–ª—É—á—à–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

  - –ò–∑–º–µ–Ω–µ–Ω–∞ —Ç–µ–º–∞ —Å–∞–π—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è [furo](https://github.com/pradyunsg/furo)
    –≤–º–µ—Å—Ç–æ —Ç–µ–º—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é [ReadTheDocs](https://github.com/readthedocs/sphinx_rtd_theme).

    –ù–æ–≤–∞—è —Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —à–∏—Ä–æ–∫–∏–µ —ç–∫—Ä–∞–Ω—ã –∏ —Ç–µ–º–Ω—ã–π —Ä–µ–∂–∏–º.
    –°–º. [#10](https://github.com/MobileTeleSystems/onetl/pull/10).

  - –¢–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–º–µ–µ—Ç —Ç–∞–±–ª–∏—Ü—É —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –¥–ª—è Spark + Java + Python.

  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –¥–ª—è Spark + Java + Python + Scala.

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫

- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–±–ª–µ–º —Å SFTP.

  - –ï—Å–ª–∏ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ SSH `~/.ssh/config` —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–µ–º—ã–µ Paramiko (–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ –∏–º—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞), –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏ –±—É–¥—É—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞. –ù–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–∏ 0.7.0 –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∑–∞–º–µ–Ω–µ–Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º.

  - –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–¥–∞–ª `host_key_check=False`, –Ω–æ —Å–µ—Ä–≤–µ—Ä –∏–∑–º–µ–Ω–∏–ª SSH –∫–ª—é—á–∏, –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏ –≤—ã–¥–∞–≤–∞–ª–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–æ –ø—Ä–∏–Ω—è—Ç–∏—è –Ω–æ–≤–æ–≥–æ –ª—é—á–∞. –ù–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–∏ 0.7.0 –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∑–∞–º–µ–Ω–µ–Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ä–∞–≤–Ω–æ `False`.

    –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ [#19](https://github.com/MobileTeleSystems/onetl/pull/19).

- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–±–ª–µ–º —Å S3.

  –ë—ã–ª–∞ –æ—à–∏–±–∫–∞ –≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ S3, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –ø–æ–∑–≤–æ–ª—è–ª–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ –±–∞–∫–µ—Ç–∞ - –æ–Ω–∏ –±—ã–ª–∏ –Ω–µ–≤–∏–¥–∏–º—ã –¥–ª—è –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ [#29](https://github.com/MobileTeleSystems/onetl/pull/29).
